<!--
@license
Copyright (c) 2015 Team King of App. All rights reserved.
This code may only be used under the MIT license.
-->

<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../bootstrap.html">

<dom-module id="bootstrap-alert">
  <template>
    <style>
      :host {
        display: block;
      }
    </style>

    <template is="dom-if" if="{{dismissible}}">
      <button type="button" class="close" data-dismiss="alert" aria-label="Close">
        <span aria-hidden="true">&times;</span>
      </button>
    </template>
    <content></content>
  </template>

  <script>
    Polymer({
      is: 'bootstrap-alert',

      properties: {
        /**
         * Options are `success`, `info`, `warning` and `danger`. Default is `info`.
         */
        type: {
          type: String,
          value: 'info',
          observer: '_typeChanged'
        },

        dismissible: {
          type: Boolean,
          value: false,
          observer: '_dismissibleChanged'
        }
      },

      hostAttributes: {
        role: 'alert'
      },

      created: function() {
        this.classList.add('alert');
      },

      _typeChanged: function (newValue, oldValue) {
        this.classList.remove('alert-' + oldValue);
        this.classList.add('alert-' + newValue);
      },

      _dismissibleChanged: function (newValue, oldValue) {
        this.toggleClass('alert-dismissible', newValue);
      }
    });
  </script>
</dom-module>
