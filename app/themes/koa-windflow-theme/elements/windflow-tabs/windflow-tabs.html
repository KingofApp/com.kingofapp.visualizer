<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/iron-menu-behavior/iron-menu-behavior.html">
<link rel="import" href="windflow-tab.html">

<!--
### Styling

Custom property | Description | Default
----------------|-------------|--------
`--tabs-selection-bar-color` | Color for the selection bar | `--accent-color`
`--tabs` | Mixin applied to the tabs | `{}`
-->

<dom-module id="windflow-tabs">
  <template>
    <style>
    :host {
      @apply(--layout);
      @apply(--layout-center);
      height: 48px;
      font-size: 14px;
      font-weight: 500;
      overflow: hidden;
      -webkit-user-select: none;
      -moz-user-select: none;
      -ms-user-select: none;
      user-select: none;
      -webkit-tap-highlight-color: rgba(0,0,0,0);
      @apply(--windflow-tabs);
    }
    :host-context([dir=rtl]) {
      @apply(--layout-horizontal-reverse);
    }
    #tabsContainer {
      position: relative;
      height: 100%;
      white-space: nowrap;
      overflow: hidden;
      @apply(--layout-flex);
    }
    #tabsContent {
      height: 100%;
    }
    #tabsContent.scrollable {
      position: absolute;
      white-space: nowrap;
    }
    #tabsContent.horizontal {
      @apply(--layout-horizontal);
    }
    .hidden {
      display: none;
    }
    .not-visible {
      opacity: 0;
      cursor: default;
    }
    #tabsContent > ::content > *:not(#selectionBar) {
      height: 100%;
    }
    </style>

    <div id="tabsContainer" on-track="_scroll" on-down="_down">

      <div id="tabsContent" class$="[[_computeTabsContentClass(scrollable)]]">

        <content select="*"></content>

      </div>

    </div>

  </template>

  <script>
    Polymer({
      is: 'windflow-tabs',

      hostAttributes: {
        role: 'tablist'
      },

      behaviors: [
        Polymer.IronMenuBehavior
      ]
    });
  </script>
</dom-module>
